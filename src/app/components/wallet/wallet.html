<p-card header="Wallet Connection" styleClass="wallet-card">


    <div class="wallet-content">
        <div class="connection-status">
            <div class="status-indicator" [class.connected]="walletInfo()">
                <i
                        class="pi"
                        [class.pi-check-circle]="walletInfo()"
                        [class.pi-times-circle]="!walletInfo()"
                ></i>
                <span>{{ walletInfo() ? 'Connected' : 'Not Connected' }}</span>
            </div>
        </div>

        <p-divider></p-divider>

        <div class="wallet-actions">
            <div class="action-group">
                <label class="action-label">Connect to MetaMask</label>
                <p-button
                        label="Connect Wallet"
                        icon="pi pi-wallet"
                        severity="primary"
                        [disabled]="walletInfo()"
                        (onClick)="connectWallet()"
                        styleClass="connect-btn"
                >
                </p-button>
            </div>

            @if (walletInfo()) {
                <div class="action-group">
                    <label class="action-label">Disconnect Wallet</label>
                    <p-button
                            label="Disconnect"
                            icon="pi pi-power-off"
                            severity="danger"
                            (onClick)="disconnectWallet()"
                            styleClass="disconnect-btn"
                    >
                    </p-button>
                </div>
            }
        </div>

        <p-button (click)="switchToHoodi()">Switch to Hoodi</p-button>

        @if (walletInfo()) {
            <div class="wallet-info">
                <p-divider></p-divider>

                <div class="info-section">
                    <h4 class="info-title">Account Information</h4>

                    <div class="info-item">
                        <label class="info-label">Address:</label>
                        <div class="address-display">
                            <span class="address-text">{{ formatAddress(walletInfo()?.address) }}</span>
                            <p-chip
                                    [label]="walletInfo()?.networkName"
                                    icon="pi pi-globe"
                                    styleClass="network-chip">
                            </p-chip>
                        </div>
                    </div>

                    <div class="info-item">
                        <label class="info-label">Balance:</label>
                        <div class="balance-display">
                            <span class="balance-amount">{{ walletInfo()?.balance }}</span>
                            <span class="balance-unit">ETH</span>
                        </div>
                    </div>
                </div>
            </div>
        }
        @if (message) {
            <div class="messages">
                <p-message
                        [severity]="messageType"
                        [text]="message"
                        styleClass="status-message"
                >
                </p-message>
            </div>
        }
    </div>
</p-card>
